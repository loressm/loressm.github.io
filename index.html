<!DOCTYPE html>
<html lang="it">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>SUI media – Social Media Marketing</title>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
    
    <!-- Chart.js per grafico a torta -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <script src="script.js" defer></script>
    <script src="footer.js" defer></script>
    <script src="header.js" defer></script>

    <style>
        /* Grafico - stili interni per semplicità */
        .chart-container {
            display: flex;
            justify-content: center;
            align-items: flex-end;
            gap: 30px;
            height: 300px;
            padding: 0 10px;
            max-width: 600px;
            margin: 0 auto;
        }
        .bar-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            flex: 1 1 0;
            min-width: 70px;
            max-width: 100px;
        }
        .bar {
            width: 60px;
            height: 0;
            border-radius: 8px 8px 0 0;
            transition: height 2s ease;
        }
        .whatsapp {
            background-color: #25D366;
        }
        .facebook {
            background-color: #1877F2;
        }
        .instagram {
            background-color: #E1306C;
        }
        .label {
            margin-top: 10px;
            font-weight: bold;
            font-size: 1rem;
            word-wrap: break-word;
            text-align: center;
        }
        .percent {
            font-weight: bold;
            margin-bottom: 5px;
            min-height: 20px;
            font-size: 1rem;
        }

        /* Responsive */
        @media (max-width: 480px) {
            .chart-container {
                height: 200px;
                gap: 15px;
            }
            .bar-container {
                min-width: 40px;
                max-width: 60px;
            }
            .bar {
                width: 40px;
            }
            .label,
            .percent {
                font-size: 0.85rem;
            }
        }
    </style>
</head>
<body>
    <header id="header"></header>

    <main>
        <section class="content-grid">
            <!-- Blocco 1: Testo -->
            <div class="grid-item animate-on-scroll">
                <h3 style="background-color: #FFD700; color: white; padding: 10px;">
                    Cos'è il social media marketing e perchè è importante
                </h3>
                <p>
                    Quante volte hai sentito dire: "Se non sei presente online non esisti"? Oggi questo non basta più. Ecco che entrano in gioco gli specialisti del social media management e del social media marketing, termini inglesi che altro non significano che
                    <strong>amministrazione dei tuoi media sociali e promozione degli stessi</strong>. Questo tipo di attività affinchè risultino efficaci devono essere strutturate in maniera
                    <strong>continuativa e coerente nel tempo</strong>, in modo tale da riuscire a <strong>intercettare il più possibile i sentimenti del pubblico</strong> che ha bisogno (o ancora non sa di avere bisogno) del tuo bene o servizio.
                </p>
            </div>

            <!-- Blocco 2: GRAFICO SOCIAL a torta -->
            <div class="grid-item">
                <h2>Socials più usati dagli italiani nel 2024</h2>
                <canvas id="socialPieChart" width="400" height="400"></canvas>
            </div>

            <!-- Blocco 3: Testo -->
            <div class="grid-item animate-on-scroll">
                <h3 style="background-color: #4CAF50; color: white; padding: 10px;">
                    Quali sono le opportunità concrete per la mia azienda?
                </h3>
                <p>
                    Consolidare una valida presenza sui social e pianificare strategicamente nei momenti dell'anno più adatti delle campagne promozionali conduce a dei benefici oggettivi, soprattutto nel medio e lungo periodo, in quanto
                    <strong>la tua azienda gradualmente diventa un punto di riferimento solido e sicuro sul territorio</strong> (e non solo) per tutte le persone che necessitano della tua offerta. Risulta fondamentale quindi esserci e
                    <strong>proporre con regolarità dei contenuti in grado di trasmettere e valorizzare i tuoi prodotti e i tuoi servizi</strong>. È importante adottare e mantenere una personalità pubblica del tuo brand lineare e coerente che consenta di fidelizzare il tuo pubblico facendolo
                    <strong>affezionare al tuo brand</strong>. È altrettanto fondamentale interagire con i tuoi clienti, in maniera rapida e costante, per fornirgli nell'immediatezza le risposte di cui hanno bisogno.
                </p>
            </div>

            <!-- Blocco 4: Grafico "Tempo medio giornaliero trascorso sui social in Italia" -->
            <div class="grid-item">
                <h2>Tempo medio giornaliero trascorso sui social in Italia</h2>

                <!-- Contatore animato -->
                <div class="counter-container">
                    <div class="counter" id="counter">0</div>
                    <div class="unit">minuti</div>
                </div>
            </div>

            <!-- Blocco 5: Testo -->
            <div class="grid-item animate-on-scroll">
                <h3 style="background-color: #9B59B6; color: white; padding: 10px;">
                    Differenziati dagli altri. Comunica quello che sei.
                </h3>
                <p>
                    Esiste un vasto pubblico affine ai prodotti e ai servizi che offri che ancora non ti conosce. Perchè non farsi conoscere? E perchè non aiutarlo a farti trovare? Quando le persone cercano una soluzione, hanno fretta.
                    <strong>Il nostro compito è agevolare il più possibile il processo di ricerca che conduce alla soluzione offerta dalla tua azienda</strong>. Perchè se non lo fai tu, lo farà qualcunaltro, che sarà in grado di farsi trovare più rapidamente.
                    <a href="https://loressm.github.io/suimedia/contattami.html">Contattami</a> senza impegno e studiamo insieme la strategia migliore per valorizzare la tua azienda.
                </p>
            </div>

            <!-- Blocco 6: GRAFICO SOCIAL - Percentuale di piccole imprese italiane attive sui social -->
            <div class="grid-item">
                <h2>Percentuale di piccole imprese italiane attive sui social</h2>

                <div class="chart-container">
                    <div class="bar-container">
                        <div class="percent" id="p1">0%</div>
                        <div class="bar whatsapp" id="bar1"></div>
                        <div class="label">2021</div>
                    </div>
                    <div class="bar-container">
                        <div class="percent" id="p2">0%</div>
                        <div class="bar facebook" id="bar2"></div>
                        <div class="label">2022</div>
                    </div>
                    <div class="bar-container">
                        <div class="percent" id="p3">0%</div>
                        <div class="bar instagram" id="bar3"></div>
                        <div class="label">2023</div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer></footer>

    <script>
        // Scroll animation observer testi
        document.addEventListener("DOMContentLoaded", function () {
            const sections = document.querySelectorAll('.animate-on-scroll');
            const options = {
                threshold: 0.5,
                rootMargin: '0px 0px -150px 0px'
            };

            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, options);

            sections.forEach(section => {
                observer.observe(section);
            });
        });
    </script>

    <script>
      // Animazione grafico a torta con start on visibility
      document.addEventListener("DOMContentLoaded", function () {
        let pieChartInitialized = false;
        const canvas = document.getElementById('socialPieChart');

        const observer = new IntersectionObserver((entries, observer) => {
          entries.forEach(entry => {
            if (entry.isIntersecting && !pieChartInitialized) {
              const ctx = canvas.getContext('2d');

              const data = {
                labels: ['WhatsApp', 'Facebook', 'Instagram'],
                datasets: [{
                  label: 'Utenti in milioni',
                  data: [50, 40, 35],
                  backgroundColor: [
                    '#25D366', // verde WhatsApp
                    '#1877F2', // blu Facebook
                    '#E1306C'  // rosa Instagram
                  ],
                  hoverOffset: 30
                }]
              };

              const config = {
                type: 'pie',
                data: data,
                options: {
                  responsive: true,
                  animation: {
                    animateRotate: true,
                    duration: 2000
                  },
                  plugins: {
                    legend: {
                      position: 'bottom',
                      labels: {
                        font: {
                          size: 14,
                          weight: 'bold'
                        }
                      }
                    },
                    tooltip: {
                      callbacks: {
                        label: function(context) {
                          return context.label + ': ' + context.parsed + ' milioni';
                        }
                      }
                    }
                  }
                }
              };

              new Chart(ctx, config);
              pieChartInitialized = true;
              observer.unobserve(canvas);
            }
          });
        }, { threshold: 0.5 });

        observer.observe(canvas);
      });
    </script>

    <script>
      // Animazioni barre e contatore con start on visibility, versione animazioni vecchie
      document.addEventListener("DOMContentLoaded", function () {
          // --- Animazione contatore "vecchia" ---
          function initCounter() {
              const counter = document.getElementById('counter');
              let current = 0;
              const end = 135;
              const duration = 3000; // 3 secondi
              const stepTime = 50;
              const steps = duration / stepTime;
              const increment = end / steps;

              const timer = setInterval(() => {
                  current += increment;
                  if (current >= end) {
                      current = end;
                      clearInterval(timer);
                  }
                  counter.textContent = Math.round(current);
              }, stepTime);
          }

          // --- Animazione barre "vecchia" ---
          function initBarChart() {
              const bars = [
                  { bar: document.getElementById('bar1'), percent: document.getElementById('p1'), value: 75 },
                  { bar: document.getElementById('bar2'), percent: document.getElementById('p2'), value: 80 },
                  { bar: document.getElementById('bar3'), percent: document.getElementById('p3'), value: 85 }
              ];

              bars.forEach(item => {
                  // Altezza iniziale 0 per riattivare animazione
                  item.bar.style.height = '0px';

                  // Forza reflow per far partire la transizione CSS
                  void item.bar.offsetWidth;

                  // Imposta altezza finale (es. valore * 3 px)
                  item.bar.style.height = (item.value * 3) + 'px';

                  // Aggiorna subito la percentuale (senza animazione)
                  item.percent.textContent = item.value + '%';
              });
          }

          // Observer per il grafico a barre
          const barChartElement = document.querySelector('.chart-container');
          if (barChartElement) {
              const barObserver = new IntersectionObserver((entries, observer) => {
                  entries.forEach(entry => {
                      if (entry.isIntersecting) {
                          initBarChart();
                          observer.unobserve(entry.target);
                      }
                  });
              }, { threshold: 0.5 });
              barObserver.observe(barChartElement);
          }

          // Observer per il contatore
          const counterElement = document.getElementById('counter');
          if (counterElement) {
              const counterObserver = new IntersectionObserver((entries, observer) => {
                  entries.forEach(entry => {
                      if (entry.isIntersecting) {
                          initCounter();
                          observer.unobserve(entry.target);
                      }
                  });
              }, { threshold: 0.5 });
              counterObserver.observe(counterElement);
          }
      });
    </script>

</body>
</html>
